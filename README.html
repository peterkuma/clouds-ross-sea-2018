<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title></title>
  <style type="text/css">code{white-space: pre;}</style>
  <link rel="stylesheet" href="github.css" type="text/css" />
</head>
<body>
<h1 id="code-and-data-for-the-paper-an-analysis-of-the-cloud-environment-over-the-ross-sea-and-ross-ice-shelf-using-cloudsatcalipso-satellites-the-importance-of-synoptic-forcing">Code and data for the paper &quot;An analysis of the cloud environment over the Ross Sea and Ross Ice Shelf using CloudSat/CALIPSO satellites: The importance of Synoptic Forcing&quot;</h1>
<p>Ben Jolly &lt;<script type="text/javascript">
<!--
h='&#108;&#x61;&#110;&#100;&#x63;&#x61;&#114;&#x65;&#114;&#x65;&#x73;&#x65;&#x61;&#114;&#x63;&#104;&#46;&#x63;&#x6f;&#46;&#110;&#122;';a='&#64;';n='&#106;&#x6f;&#108;&#108;&#x79;&#98;';e=n+a+h;
document.write('<a h'+'ref'+'="ma'+'ilto'+':'+e+'">'+e+'<\/'+'a'+'>');
// -->
</script><noscript>&#106;&#x6f;&#108;&#108;&#x79;&#98;&#32;&#x61;&#116;&#32;&#108;&#x61;&#110;&#100;&#x63;&#x61;&#114;&#x65;&#114;&#x65;&#x73;&#x65;&#x61;&#114;&#x63;&#104;&#32;&#100;&#x6f;&#116;&#32;&#x63;&#x6f;&#32;&#100;&#x6f;&#116;&#32;&#110;&#122;</noscript>&gt;¹, Peter Kuma &lt;<script type="text/javascript">
<!--
h='&#112;&#x67;&#46;&#x63;&#x61;&#110;&#116;&#x65;&#114;&#98;&#x75;&#114;&#x79;&#46;&#x61;&#x63;&#46;&#110;&#122;';a='&#64;';n='&#112;&#x65;&#116;&#x65;&#114;&#46;&#x6b;&#x75;&#x6d;&#x61;';e=n+a+h;
document.write('<a h'+'ref'+'="ma'+'ilto'+':'+e+'">'+e+'<\/'+'a'+'>');
// -->
</script><noscript>&#112;&#x65;&#116;&#x65;&#114;&#46;&#x6b;&#x75;&#x6d;&#x61;&#32;&#x61;&#116;&#32;&#112;&#x67;&#32;&#100;&#x6f;&#116;&#32;&#x63;&#x61;&#110;&#116;&#x65;&#114;&#98;&#x75;&#114;&#x79;&#32;&#100;&#x6f;&#116;&#32;&#x61;&#x63;&#32;&#100;&#x6f;&#116;&#32;&#110;&#122;</noscript>&gt;², Adrian McDonald &lt;<script type="text/javascript">
<!--
h='&#x63;&#x61;&#110;&#116;&#x65;&#114;&#98;&#x75;&#114;&#x79;&#46;&#x61;&#x63;&#46;&#110;&#122;';a='&#64;';n='&#x61;&#100;&#114;&#x69;&#x61;&#110;&#46;&#x6d;&#x63;&#100;&#x6f;&#110;&#x61;&#108;&#100;';e=n+a+h;
document.write('<a h'+'ref'+'="ma'+'ilto'+':'+e+'">'+e+'<\/'+'a'+'>');
// -->
</script><noscript>&#x61;&#100;&#114;&#x69;&#x61;&#110;&#46;&#x6d;&#x63;&#100;&#x6f;&#110;&#x61;&#108;&#100;&#32;&#x61;&#116;&#32;&#x63;&#x61;&#110;&#116;&#x65;&#114;&#98;&#x75;&#114;&#x79;&#32;&#100;&#x6f;&#116;&#32;&#x61;&#x63;&#32;&#100;&#x6f;&#116;&#32;&#110;&#122;</noscript>&gt;², Simon Parsons &lt;<script type="text/javascript">
<!--
h='&#x63;&#x61;&#110;&#116;&#x65;&#114;&#98;&#x75;&#114;&#x79;&#46;&#x61;&#x63;&#46;&#110;&#122;';a='&#64;';n='&#x73;&#x69;&#x6d;&#x6f;&#110;&#46;&#112;&#x61;&#114;&#x73;&#x6f;&#110;&#x73;';e=n+a+h;
document.write('<a h'+'ref'+'="ma'+'ilto'+':'+e+'">'+e+'<\/'+'a'+'>');
// -->
</script><noscript>&#x73;&#x69;&#x6d;&#x6f;&#110;&#46;&#112;&#x61;&#114;&#x73;&#x6f;&#110;&#x73;&#32;&#x61;&#116;&#32;&#x63;&#x61;&#110;&#116;&#x65;&#114;&#98;&#x75;&#114;&#x79;&#32;&#100;&#x6f;&#116;&#32;&#x61;&#x63;&#32;&#100;&#x6f;&#116;&#32;&#110;&#122;</noscript>&gt;²</p>
<p>¹Landcare Research, Lincoln, New Zealand, ²University of Canterbury, Christchurch, New Zealand</p>
<p>This repository contains scientific datasets and scripts for processing CloudSat datasets and producing results presented in the paper <em>An analysis of the cloud environment over the Ross Sea and Ross Ice Shelf using CloudSat/CALIPSO satellites: The importance of Synoptic Forcing</em>.</p>
<h2 id="setup">Setup</h2>
<p>It is recommended that the scripts are run on Linux or another unix-like operating system. Most scripts are written in the Python programming language. Some of the scripts need to be run on the <a href="https://spark.apache.org/">Spark</a> cluster computing platform. Note that Spark does not require cluster deployment, it works equally well when run locally on a single machine with 4 GB RAM or more.</p>
<p>For running on Windows we recommended the <a href="https://www.continuum.io/downloads">Anaconda Python distribution</a>, although we haven't attempted to run the code on this platform, and Linux is strongly preferrable.</p>
<p>The following programs need to be installed:</p>
<ul>
<li><a href="https://spark.apache.org/">Spark</a> &gt;= 2.0.1</li>
<li>Python 2.7</li>
</ul>
<p>On most Linux distributions Python can be found in the package manager, and Spark is available as a <a href="https://spark.apache.org/downloads.html">binary package on their website</a>.</p>
<p>Python libraries:</p>
<ul>
<li>numpy == 1.11.2</li>
<li>matplotlib == 1.5.3</li>
<li>pytz == 2016.7</li>
<li>h5py == 2.2.1</li>
<li>dpath == 1.4.0</li>
<li>ccplot == 1.5.2</li>
</ul>
<p>To install the libraries with the python package manager (PIP) in a Python virtual environment (virtualenv):</p>
<pre><code>virtualenv env
. env/bin/activate
pip install -r requirements.txt</code></pre>
<h3 id="optional">Optional</h3>
<p>The following software is needed only for generating the map in Figure 1 (script <code>map.R</code>).</p>
<ul>
<li><a href="https://www.r-project.org/">R</a></li>
<li>R packages:
<ul>
<li>raster</li>
<li>sp</li>
<li>rgdal</li>
<li>rgeos</li>
<li>maptools</li>
<li>geosphere</li>
<li>RColorBrewer</li>
<li>graticule</li>
</ul></li>
</ul>
<h2 id="source-datasets">Source Datasets</h2>
<p>In order to run the scripts the following products should be available on your file system:</p>
<ul>
<li><a href="http://www.cloudsat.cira.colostate.edu/data-products/level-2b/2b-cldclass?term=25">CloudSat 2B-CLDCLASS-LIDAR P_R04 products (2007-2010)</a></li>
<li><strong>Optional:</strong> <a href="http://www.cloudsat.cira.colostate.edu/data-products/level-2b/2b-geoprof-lidar?term=48">CloudSat 2B-GEOPROF-LIDAR P2_R04 products (2006-2011)</a></li>
</ul>
<p>You can download the complete datasets from the CloudSat DPC FTP server at <a href="ftp://ftp.cloudsat.cira.colostate.edu">ftp://ftp.cloudsat.cira.colostate.edu</a> after creating an account on <a href="http://www.cloudsat.cira.colostate.edu/">CloudSat DPC</a>.</p>
<p>The product files do not need to be unpacked, the code expects the directory structure &quot;as is&quot;.</p>
<h2 id="figures-and-tables">Figures and Tables</h2>
<p>The following sections list scripts names used to produce figures and tables in the paper. Please see the reference section below for a full description of the scripts. <strong>Scripts</strong> is a list of scripts which need to be run in order to produce the figure or table.</p>
<p>This repository also contains scripts which may be useful for additional analysis, but were not used directly to produce results presented in the paper.</p>
<h3 id="figure-1">Figure 1</h3>
<p><a href="plots/map.pdf"><img src="img/map.png" /></a></p>
<p>Topographic map of the RIS and Ross Sea showing boundary of the study area (thick blue line) and border between the RIS and Ross Sea sectors. (Map is based on the SCAR Antarctic Digital Database.)</p>
<p><strong>Scripts:</strong> <a href="scripts/map.R">map.R</a></p>
<h3 id="figure-2">Figure 2</h3>
<p><a href="plots/cloud_incidence_by_phase_season.png"><img src="img/cloud_incidence_by_phase_season.png" /></a></p>
<p>Mean vertical profiles of cumulative cloud occurrence for different cloud phases derived from 2B-CLDCLASS-LIDAR data for the Ross Sea (a–d) and Ross Ice Shelf regions (e–h) for different seasons.</p>
<p><strong>Scripts:</strong> <a href="scripts/ross_area_files.py">ross_area_files.py</a>, <a href="scripts/extract_area.py">extract_area.py</a>, <a href="scripts/cloud_incidence.py">cloud_incidence.py</a>, <a href="plot_cloud_incidence_summary_by_phase.py">plot_cloud_incidence_summary_by_phase.py</a></p>
<h3 id="figure-3">Figure 3</h3>
<p><a href="plots/cloud_incidence_by_phase_regime.png"><img src="img/cloud_incidence_by_phase_regime.png" /></a></p>
<p>Mean vertical profiles of cumulative cloud occurrence for different cloud phases derived from 2B-CLDCLASS-LIDAR data for the Ross Sea (a–e) and Ross Ice Shelf regions (f–j) for the Coggins regimes.</p>
<p><strong>Scripts:</strong> <a href="scripts/ross_area_files.py">ross_area_files.py</a>, <a href="scripts/extract_area.py">extract_area.py</a>, <a href="scripts/cloud_incidence.py">cloud_incidence.py</a>, <a href="plot_cloud_incidence_summary_by_phase.py">plot_cloud_incidence_summary_by_phase.py</a></p>
<h3 id="figure-4">Figure 4</h3>
<p><a href="plots/cloud_layers_hist_cldclass.png"><img src="img/cloud_layers_hist_cldclass.png" /></a></p>
<p>Distribution of the number of cloud layers over the Ross Sea and Ross Ice Shelf for all cases, the Coggins regimes and season.</p>
<p><strong>Scripts:</strong> <a href="scripts/ross_area_files.py">ross_area_files.py</a>, <a href="scripts/extract_area.py">extract_area.py</a>, <a href="scripts/cloud_layers_hist.py">cloud_layers_hist.py</a>, <a href="scripts/cloud_layers_hist.py">plot_cloud_layers_hist.py</a></p>
<h3 id="figure-5">Figure 5</h3>
<p><a href="plots/cloud_types_hist_int.png"><img src="img/cloud_types_hist_int.png" /></a></p>
<p>Percent fraction of cloud types over the Ross Sea and Ross Ice Shelf for all cases, the Coggins regimes and seasons. The cloud types are identified in Table 1.</p>
<p><strong>Scripts:</strong> <a href="scripts/ross_area_files.py">ross_area_files.py</a>, <a href="scripts/extract_area.py">extract_area.py</a>, <a href="scripts/cloud_types_hist_int.py">cloud_types_hist_int.py</a> <a href="scripts/plot_cloud_types_hist_int.py">plot_cloud_types_hist_int.py</a></p>
<h3 id="figure-6">Figure 6</h3>
<p><a href="plots/cloud_top_thickness_composite_regime.png"><img src="img/cloud_top_thickness_composite_regime.png" /></a></p>
<p>Joint histogram of the cloud top height vs. geometric cloud thickness over the Ross Sea and RIS for the entire year on a logarithmic scale (a, f) and the difference from the annual mean over the respective region (RS and RIS) for each season on a linear scale (b-e, g-j).</p>
<p><strong>Scripts:</strong> <a href="scripts/ross_area_files.py">ross_area_files.py</a>, <a href="scripts/extract_area.py">extract_area.py</a>, <a href="scripts/cloud_top_thickness_hist.py">cloud_top_thickness_hist.py</a>, <a href="scripts/plot_cloud_top_thickness_composite.py">plot_cloud_top_thickness_composite.py</a></p>
<h3 id="figure-7">Figure 7</h3>
<p><a href="plots/cloud_top_thickness_composite_season.png"><img src="img/cloud_top_thickness_composite_season.png" /></a></p>
<p>Joint histogram of the cloud top height vs. geometric cloud thickness over the Ross Sea and RIS for the entire year on a logarithmic scale (a, f) and the difference from the annual mean over the respective region (RS and RIS) for each Coggins regime on a linear scale (b-e, g-j).</p>
<p><strong>Scripts:</strong> <a href="scripts/ross_area_files.py">ross_area_files.py</a>, <a href="scripts/extract_area.py">extract_area.py</a>, <a href="scripts/cloud_top_thickness_hist.py">cloud_top_thickness_hist.py</a>, <a href="scripts/plot_cloud_top_thickness_composite.py">plot_cloud_top_thickness_composite.py</a></p>
<h3 id="table-2">Table 2</h3>
<p>The relative frequency of occurrence of the Coggins regimes annually and seasonally in the observational data (%). Values for seasons are normalized so that rows sum to 100 %.</p>
<p><strong>Scripts:</strong> <a href="scripts/ross_area_files.py">ross_area_files.py</a>, <a href="scripts/extract_area.py">extract_area.py</a>, <a href="regime_season_hist.py">regime_season_hist.py</a>, <a href="scripts/print_regime_season_table.py">print_regime_season_table.py</a></p>
<h2 id="repository-content">Repository Content</h2>
<ul>
<li><code>config</code> - configuration files needed by the scripts</li>
<li><code>img</code> - figure images</li>
<li><code>lib</code> - additional python modules used by the scripts</li>
<li><code>out</code> - output files (intermediate data files and plots)</li>
<li><code>scripts</code> - data processing and plotting scripts</li>
</ul>
<h2 id="reference">Reference</h2>
<p>Use <code>spark-submit scripts/&lt;script&gt;.py --help</code> for more information about how to submit the scripts. The Spark cluster does not need to be running, <code>spark-submit</code> starts a local instance as needed (you only need to make sure that <code>spark-submit</code> is in your <code>PATH</code> environmental variable).</p>
<p>Intermediate data files are stored as HDF5 and plots as PNG or PDF.</p>
<h3 id="ross_area_files.py">ross_area_files.py</h3>
<p>Output a list of CloudSat HDF-EOS2 files containing data over the Ross Sea/Ross Ice Shelf area.</p>
<pre><code>spark-submit scripts/ross_area_files.py &#39;/data/datasets/cloudsat/2b-geoprof-lidar/*/*/*.zip&#39; 2&gt;/dev/null &gt; plots/ross_area_files
spark-submit scripts/ross_area_files.py &#39;/data/datasets/cloudsat/2b-cldclass-lidar.p_r04/*/*/*.zip&#39; 2&gt;/dev/null &gt; plots/ross_area_cldclass_files</code></pre>
<h3 id="extract_area.py">extract_area.py</h3>
<p>Extract profile columns from CloudSat HDF-EOS2 files in a given area.</p>
<pre><code>spark-submit scripts/extract_area.py -o data/ross_sea.h5 -a ross_sea -f plots/ross_area_files 2&gt;/dev/null
spark-submit scripts/extract_area.py -o data/ross_ice_shelf.h5 -a ross_ice_shelf -f plots/ross_area_files 2&gt;/dev/null

spark-submit scripts/extract_area.py -o data/ross_sea_cldclass.h5 -p 2b-cldclass-lidar -a ross_sea -f plots/ross_area_cldclass_files 2&gt;/dev/null
spark-submit scripts/extract_area.py -o data/ross_ice_shelf_cldclass.h5 -p 2b-cldclass-lidar -a ross_ice_shelf -f plots/ross_area_cldclass_files 2&gt;/dev/null</code></pre>
<h3 id="cloud_top_hist.py">cloud_top_hist.py</h3>
<p>Produce a histogram of the topmost cloud top height.</p>
<pre><code>spark-submit scripts/cloud_top_hist.py -t &quot;Cloud top (Ross Sea, 2006-2011, 2B-GEOPROF-LIDAR)&quot; -o plots/cloud_top_hist_rs.pdf data/ross_sea.h5 2&gt;/dev/null
spark-submit scripts/cloud_top_hist.py -t &quot;Cloud top (Ross Ice Shelf, 2006-2011, 2B-GEOPROF-LIDAR)&quot; -o plots/cloud_top_hist_ris.pdf data/ross_ice_shelf.h5 2&gt;/dev/null
spark-submit scripts/cloud_top_hist.py -t &quot;Cloud top (Ross Sea, 2006-2011, 2B-GEOPROF-LIDAR, CPR)&quot; -i 1 -o plots/cloud_top_hist_rs_cpr.pdf data/ross_sea.h5 2&gt;/dev/null
spark-submit scripts/cloud_top_hist.py -t &quot;Cloud top (Ross Sea, 2006-2011, 2B-GEOPROF-LIDAR, CALIOP)&quot; -i 2 -o plots/cloud_top_hist_rs_caliop.pdf data/ross_sea.h5 2&gt;/dev/null
spark-submit scripts/cloud_top_hist.py -t &quot;Cloud top (Ross Ice Shelf, 2006-2011, 2B-GEOPROF-LIDAR, CPR)&quot; -i 1 -o plots/cloud_top_hist_ris_cpr.pdf data/ross_ice_shelf.h5 2&gt;/dev/null
spark-submit scripts/cloud_top_hist.py -t &quot;Cloud top (Ross Ice Shelf, 2006-2011, 2B-GEOPROF-LIDAR, CALIOP)&quot; -i 2 -o plots/cloud_top_hist_ris_caliop.pdf data/ross_ice_shelf.h5 2&gt;/dev/null

spark-submit scripts/cloud_top_hist.py -t &quot;Cloud top (Ross Sea, 2007-2010, 2B-CLDCLASS-LIDAR)&quot; -o plots/cloud_top_hist_rs_cldclass.pdf data/ross_sea_cldclass.h5 2&gt;/dev/null
spark-submit scripts/cloud_top_hist.py -t &quot;Cloud top (Ross Ice Shelf, 2007-2010, 2B-CLDCLASS-LIDAR)&quot; -o plots/cloud_top_hist_ris_cldclass.pdf data/ross_ice_shelf_cldclass.h5 2&gt;/dev/null

for regime in wnc snc ras wsc ws; do
    spark-submit scripts/cloud_top_hist.py -t &quot;Cloud top (Ross Sea, ${regime^^}, 2006-2011, 2B-GEOPROF-LIDAR)&quot; -o &quot;plots/cloud_top_hist_rs_$regime.pdf&quot; -r &quot;$regime&quot; data/ross_sea.h5 2&gt;/dev/null
done

for regime in wnc snc ras wsc ws; do
    spark-submit scripts/cloud_top_hist.py -t &quot;Cloud top (Ross Ice Shelf, ${regime^^}, 2006-2011, 2B-GEOPROF-LIDAR)&quot; -o &quot;plots/cloud_top_hist_ris_$regime.pdf&quot; -r &quot;$regime&quot; data/ross_ice_shelf.h5 2&gt;/dev/null
done

for regime in wnc snc ras wsc ws; do
    spark-submit scripts/cloud_top_hist.py -t &quot;Cloud top (Ross Sea, ${regime^^}, 2006-2011, 2B-CLDCLASS-LIDAR)&quot; -o &quot;plots/cloud_top_hist_rs_${regime}_cldclass.pdf&quot; -r &quot;$regime&quot; data/ross_sea_cldclass.h5 2&gt;/dev/null
done

for regime in wnc snc ras wsc ws; do
    spark-submit scripts/cloud_top_hist.py -t &quot;Cloud top (Ross Ice Shelf, ${regime^^}, 2006-2011, 2B-CLDCLASS-LIDAR)&quot; -o &quot;plots/cloud_top_hist_ris_${regime}_cldclass.pdf&quot; -r &quot;$regime&quot; data/ross_ice_shelf_cldclass.h5 2&gt;/dev/null
done</code></pre>
<h3 id="profile_sample.py">profile_sample.py</h3>
<p>Plot a profile sample.</p>
<pre><code>spark-submit scripts/profile_sample.py -o plots/profile_sample_rs.pdf data/ross_sea.h5 2&gt;/dev/null
spark-submit scripts/profile_sample.py -o plots/profile_sample_ris.pdf data/ross_ice_shelf.h5 2&gt;/dev/null</code></pre>
<h3 id="cloud_top_base_scatter.py">cloud_top_base_scatter.py</h3>
<p>Plot cloud top/cloud base scatter plot from a sample of data.</p>
<pre><code>spark-submit scripts/cloud_top_base_scatter.py -t &#39;Cloud top/base scatter plot (Ross Sea, 2B-GEOPROF-LIDAR)&#39; -o plots/cloud_top_base_scatter_rs.png data/ross_sea.h5 2&gt;/dev/null
spark-submit scripts/cloud_top_base_scatter.py -t &#39;Cloud top/base scatter plot (Ross Ice Shelf, 2B-GEOPROF-LIDAR)&#39; -o plots/cloud_top_base_scatter_ris.png data/ross_ice_shelf.h5 2&gt;/dev/null

spark-submit scripts/cloud_top_base_scatter.py -t &#39;Cloud top/base scatter plot (Ross Sea, 2B-CLDCLASS-LIDAR)&#39; -o plots/cloud_top_base_scatter_rs_cldclass.png data/ross_sea_cldclass.h5 2&gt;/dev/null
spark-submit scripts/cloud_top_base_scatter.py -t &#39;Cloud top/base scatter plot (Ross Ice Shelf, 2B-CLDCLASS-LIDAR)&#39; -o plots/cloud_top_base_scatter_ris_cldclass.png data/ross_ice_shelf_cldclass.h5 2&gt;/dev/null</code></pre>
<h3 id="cloud_incidence.py">cloud_incidence.py</h3>
<p>Produce cloud incidence histogram.</p>
<pre><code>spark-submit scripts/cloud_incidence.py data/ross_sea.h5 -o data/cloud_incidence_rs.h5 2&gt;/dev/null
spark-submit scripts/cloud_incidence.py -n 0 data/ross_sea.h5 -o data/cloud_incidence_rs_night.h5 2&gt;/dev/null
spark-submit scripts/cloud_incidence.py -n 1 data/ross_sea.h5 -o data/cloud_incidence_rs_day.h5 2&gt;/dev/null
spark-submit scripts/cloud_incidence.py data/ross_ice_shelf.h5 -o data/cloud_incidence_ris.h5 2&gt;/dev/null
spark-submit scripts/cloud_incidence.py -n 0 data/ross_ice_shelf.h5 -o data/cloud_incidence_ris_night.h5 2&gt;/dev/null
spark-submit scripts/cloud_incidence.py -n 1 data/ross_ice_shelf.h5 -o data/cloud_incidence_ris_day.h5 2&gt;/dev/null

spark-submit scripts/cloud_incidence.py -p 2b-cldclass-lidar data/ross_sea_cldclass.h5 -o data/cloud_incidence_rs_cldclass.h5 2&gt;/dev/null
spark-submit scripts/cloud_incidence.py -p 2b-cldclass-lidar data/ross_sea_cldclass.h5 -a ross_sea_east -o data/cloud_incidence_rs-e_cldclass.h5 2&gt;/dev/null
spark-submit scripts/cloud_incidence.py -p 2b-cldclass-lidar data/ross_sea_cldclass.h5 -a ross_sea_west -o data/cloud_incidence_rs-w_cldclass.h5 2&gt;/dev/null
spark-submit scripts/cloud_incidence.py -p 2b-cldclass-lidar data/ross_ice_shelf_cldclass.h5 -o data/cloud_incidence_ris_cldclass.h5 2&gt;/dev/null
spark-submit scripts/cloud_incidence.py -p 2b-cldclass-lidar data/ross_ice_shelf_cldclass.h5 -a ross_ice_shelf_east -o data/cloud_incidence_ris-e_cldclass.h5 2&gt;/dev/null\
spark-submit scripts/cloud_incidence.py -p 2b-cldclass-lidar data/ross_ice_shelf_cldclass.h5 -a ross_ice_shelf_west -o data/cloud_incidence_ris-w_cldclass.h5 2&gt;/dev/null

for regime in wnc snc ras wsc ws; do
    spark-submit scripts/cloud_incidence.py -p 2b-cldclass-lidar -r &quot;$regime&quot; data/ross_sea_cldclass.h5 -o &quot;data/cloud_incidence_rs_${regime}_cldclass.h5&quot; 2&gt;/dev/null
    spark-submit scripts/cloud_incidence.py -p 2b-cldclass-lidar -r &quot;$regime&quot; data/ross_sea_cldclass.h5 -a ross_sea_east -o &quot;data/cloud_incidence_rs-e_${regime}_cldclass.h5&quot; 2&gt;/dev/null
    spark-submit scripts/cloud_incidence.py -p 2b-cldclass-lidar -r &quot;$regime&quot; data/ross_sea_cldclass.h5 -a ross_sea_west -o &quot;data/cloud_incidence_rs-w_${regime}_cldclass.h5&quot; 2&gt;/dev/null
    spark-submit scripts/cloud_incidence.py -p 2b-cldclass-lidar -r &quot;$regime&quot; data/ross_ice_shelf_cldclass.h5 -o &quot;data/cloud_incidence_ris_${regime}_cldclass.h5&quot; 2&gt;/dev/null
    spark-submit scripts/cloud_incidence.py -p 2b-cldclass-lidar -r &quot;$regime&quot; data/ross_ice_shelf_cldclass.h5 -a ross_ice_shelf_east -o &quot;data/cloud_incidence_ris-e_${regime}_cldclass.h5&quot; 2&gt;/dev/null
    spark-submit scripts/cloud_incidence.py -p 2b-cldclass-lidar -r &quot;$regime&quot; data/ross_ice_shelf_cldclass.h5 -a ross_ice_shelf_west -o &quot;data/cloud_incidence_ris-w_${regime}_cldclass.h5&quot; 2&gt;/dev/null
done

for season in djf mam jja son; do
    spark-submit scripts/cloud_incidence.py -p 2b-cldclass-lidar -s &quot;$season&quot; data/ross_sea_cldclass.h5 -o &quot;data/cloud_incidence_rs_${season}_cldclass.h5&quot; 2&gt;/dev/null
    spark-submit scripts/cloud_incidence.py -p 2b-cldclass-lidar -s &quot;$season&quot; data/ross_sea_cldclass.h5 -a ross_sea_east -o &quot;data/cloud_incidence_rs-e_${season}_cldclass.h5&quot; 2&gt;/dev/null
    spark-submit scripts/cloud_incidence.py -p 2b-cldclass-lidar -s &quot;$season&quot; data/ross_sea_cldclass.h5 -a ross_sea_west -o &quot;data/cloud_incidence_rs-w_${season}_cldclass.h5&quot; 2&gt;/dev/null
    spark-submit scripts/cloud_incidence.py -p 2b-cldclass-lidar -s &quot;$season&quot; data/ross_ice_shelf_cldclass.h5 -o &quot;data/cloud_incidence_ris_${season}_cldclass.h5&quot; 2&gt;/dev/null
    spark-submit scripts/cloud_incidence.py -p 2b-cldclass-lidar -s &quot;$season&quot; data/ross_ice_shelf_cldclass.h5 -a ross_ice_shelf_east -o &quot;data/cloud_incidence_ris-e_${season}_cldclass.h5&quot; 2&gt;/dev/null
    spark-submit scripts/cloud_incidence.py -p 2b-cldclass-lidar -s &quot;$season&quot; data/ross_ice_shelf_cldclass.h5 -a ross_ice_shelf_west -o &quot;data/cloud_incidence_ris-w_${season}_cldclass.h5&quot; 2&gt;/dev/null
done</code></pre>
<h3 id="plot_cloud_incidence.py">plot_cloud_incidence.py</h3>
<p>Plot cloud incidence histogram.</p>
<pre><code>python scripts/plot_cloud_incidence.py -t &quot;Cloud incidence (Ross Sea, 2006-2011, 2B-GEOPROF-LIDAR)&quot; -o plots/cloud_incidence_rs.png data/cloud_incidence_rs.h5
python scripts/plot_cloud_incidence.py -t &quot;Cloud incidence (Ross Sea, 2006-2011, 2B-GEOPROF-LIDAR, night)&quot; -o plots/cloud_incidence_rs_night.png data/cloud_incidence_rs_night.h5
python scripts/plot_cloud_incidence.py -t &quot;Cloud incidence (Ross Sea, 2006-2011, 2B-GEOPROF-LIDAR, day)&quot; -o plots/cloud_incidence_rs_day.png data/cloud_incidence_rs_day.h5
python scripts/plot_cloud_incidence.py -t &quot;Cloud incidence (Ross Ice Shelf, 2006-2011, 2B-GEOPROF-LIDAR)&quot; -o plots/cloud_incidence_ris.png data/cloud_incidence_ris.h5
python scripts/plot_cloud_incidence.py -t &quot;Cloud incidence (Ross Ice Shelf, 2006-2011, 2B-GEOPROF-LIDAR, night)&quot; -o plots/cloud_incidence_ris_night.png data/cloud_incidence_ris_night.h5
python scripts/plot_cloud_incidence.py -t &quot;Cloud incidence (Ross Ice Shelf, 2006-2011, 2B-GEOPROF-LIDAR, day)&quot; -o plots/cloud_incidence_ris_day.png data/cloud_incidence_ris_day.h5

python scripts/plot_cloud_incidence.py -t &quot;Cloud incidence (Ross Sea, 2007-2010, 2B-CLDCLASS-LIDAR)&quot; -o plots/cloud_incidence_rs_cldclass.png data/cloud_incidence_rs_cldclass.h5
python scripts/plot_cloud_incidence.py -t &quot;Cloud incidence (Ross Ice Shelf, 2007-2010, 2B-CLDCLASS-LIDAR)&quot; -o plots/cloud_incidence_ris_cldclass.png data/cloud_incidence_ris_cldclass.h5

for regime in wnc snc ras wsc ws; do
    python scripts/plot_cloud_incidence.py -t &quot;Cloud incidence (Ross Sea, ${regime^^}, 2007-2010, 2B-CLDCLASS-LIDAR)&quot; -o plots/cloud_incidence_rs_${regime}_cldclass.png data/cloud_incidence_rs_cldclass.h5
done

for regime in wnc snc ras wsc ws; do
    python scripts/plot_cloud_incidence.py -t &quot;Cloud incidence (Ross Ice Shelf, ${regime^^}, 2007-2010, 2B-CLDCLASS-LIDAR)&quot; -o plots/cloud_incidence_ris_${regime}_cldclass.png data/cloud_incidence_ris_${regime}_cldclass.h5
done</code></pre>
<h3 id="plot_cloud_incidence_by_type.py">plot_cloud_incidence_by_type.py</h3>
<p>Plot cloud incidence by type histogram.</p>
<pre><code>python scripts/plot_cloud_incidence_by_type.py -t &quot;Cloud incidence by type (Ross Sea, 2007-2010, 2B-CLDCLASS-LIDAR)&quot; -o plots/cloud_incidence_by_type_rs_cldclass.png data/cloud_incidence_rs_cldclass.h5
python scripts/plot_cloud_incidence_by_type.py -t &quot;Cloud incidence by type (Ross Ice Shelf, 2007-2010, 2B-CLDCLASS-LIDAR)&quot; -o plots/cloud_incidence_by_type_ris_cldclass.png data/cloud_incidence_ris_cldclass.h5

for regime in wnc snc ras wsc ws; do
    python scripts/plot_cloud_incidence_by_type.py -t &quot;Cloud incidence by type (Ross Sea, ${regime^^}, 2007-2010, 2B-CLDCLASS-LIDAR)&quot; -o plots/cloud_incidence_by_type_rs_${regime}_cldclass.png data/cloud_incidence_rs_${regime}_cldclass.h5
done

for regime in wnc snc ras wsc ws; do
    python scripts/plot_cloud_incidence_by_type.py -t &quot;Cloud incidence by type (Ross Ice Shelf, ${regime^^}, 2007-2010, 2B-CLDCLASS-LIDAR)&quot; -o plots/cloud_incidence_by_type_ris_${regime}_cldclass.png data/cloud_incidence_ris_${regime}_cldclass.h5
done

for season in djf mam jja son; do
    python scripts/plot_cloud_incidence_by_type.py -t &quot;Cloud incidence by type (Ross Sea, ${season^^}, 2007-2010, 2B-CLDCLASS-LIDAR)&quot; -o plots/cloud_incidence_by_type_rs_${season}_cldclass.png data/cloud_incidence_rs_${season}_cldclass.h5
done

for season in djf mam jja son; do
    python scripts/plot_cloud_incidence_by_type.py -t &quot;Cloud incidence by type (Ross Ice Shelf, ${season^^}, 2007-2010, 2B-CLDCLASS-LIDAR)&quot; -o plots/cloud_incidence_by_type_ris_${season}_cldclass.png data/cloud_incidence_ris_${season}_cldclass.h5
done</code></pre>
<h3 id="plot_cloud_incidence_by_phase.py">plot_cloud_incidence_by_phase.py</h3>
<p>Plot cloud incidence by phase histogram.</p>
<pre><code>python scripts/plot_cloud_incidence_by_phase.py -t &quot;Cloud incidence by phase (Ross Sea, 2007-2010, 2B-CLDCLASS-LIDAR)&quot; -o plots/cloud_incidence_by_phase_rs_cldclass.png data/cloud_incidence_rs_cldclass.h5
python scripts/plot_cloud_incidence_by_phase.py -t &quot;Cloud incidence by phase (Ross Ice Shelf, 2007-2010, 2B-CLDCLASS-LIDAR)&quot; -o plots/cloud_incidence_by_phase_ris_cldclass.png data/cloud_incidence_ris_cldclass.h5

for regime in wnc snc ras wsc ws; do
    python scripts/plot_cloud_incidence_by_phase.py -t &quot;Cloud incidence by phase (Ross Sea, ${regime^^}, 2007-2010, 2B-CLDCLASS-LIDAR)&quot; -o plots/cloud_incidence_by_phase_rs_${regime}_cldclass.png data/cloud_incidence_rs_${regime}_cldclass.h5
done

for regime in wnc snc ras wsc ws; do
    python scripts/plot_cloud_incidence_by_phase.py -t &quot;Cloud incidence by phase (Ross Ice Shelf, ${regime^^}, 2007-2010, 2B-CLDCLASS-LIDAR)&quot; -o plots/cloud_incidence_by_phase_ris_${regime}_cldclass.png data/cloud_incidence_ris_${regime}_cldclass.h5
done

for season in djf mam jja son; do
    python scripts/plot_cloud_incidence_by_phase.py -t &quot;Cloud incidence by phase (Ross Sea, ${season^^}, 2007-2010, 2B-CLDCLASS-LIDAR)&quot; -o plots/cloud_incidence_by_phase_rs_${season}_cldclass.png data/cloud_incidence_rs_${season}_cldclass.h5
done

for season in djf mam jja son; do
    python scripts/plot_cloud_incidence_by_phase.py -t &quot;Cloud incidence by phase (Ross Ice Shelf, ${season^^}, 2007-2010, 2B-CLDCLASS-LIDAR)&quot; -o plots/cloud_incidence_by_phase_ris_${season}_cldclass.png data/cloud_incidence_ris_${season}_cldclass.h5
done</code></pre>
<h3 id="cloud_incidence_map_8000_8300">cloud_incidence_map_8000_8300</h3>
<p>Calculate cloud incidence map for two heights (8000 m and 8300 m).</p>
<pre><code>spark-submit scripts/cloud_incidence_map_8000_8300.py -o data/cloud_incidence_map_8000_8300.h5 &#39;/data/datasets/cloudsat/2b-geoprof-lidar/*/*/*.zip&#39; 2&gt;/dev/null</code></pre>
<h3 id="plot_correction_factor.py">plot_correction_factor.py</h3>
<p>Plot a map of cloud incidence correction factor (cloud incidence at 8000 m over cloud incidence at 8300 m).</p>
<pre><code>python scripts/plot_correction_factor.py data/cloud_incidence_map_8000_8300.h5 -t &#39;Cloud incidence correction factor 8000 m vs. 8300 m&#39; -o plots/correction_factor.pdf

python scripts/plot_correction_factor.py data/cloud_incidence_map_8000_8300_djf.h5 -t &#39;Cloud incidence correction factor 8000 m vs. 8300 m (DJF)&#39; -o plots/correction_factor_djf.pdf

python scripts/plot_correction_factor.py data/cloud_incidence_map_8000_8300_jja.h5 -t &#39;Cloud incidence correction factor 8000 m vs. 8300 m (JJA)&#39; -o plots/correction_factor_jja.pdf</code></pre>
<h3 id="plot_regimes.py">plot_regimes.py</h3>
<p>Plot regimes distribution by month.</p>
<pre><code>python scripts/plot_regimes.py -t &#39;Regimes distribution by month (2007-2010)&#39; -o plots/regimes.pdf</code></pre>
<h3 id="plot_cloud_incidence_summary_by_phase.py">plot_cloud_incidence_summary_by_phase.py</h3>
<p>Plot cloud incidence summary by phase.</p>
<pre><code>python scripts/plot_cloud_incidence_summary_by_phase.py -t &#39;Clouds incidence by phase (Ross Sea, 2007-2010, 2B-CLDCLASS-LIDAR)&#39; -l DJF,MAM,JJA,SON -o plots/cloud_incidence_summary_by_phase_rs_seasons.png data/cloud_incidence_rs_djf_cldclass.h5 data/cloud_incidence_rs_mam_cldclass.h5 data/cloud_incidence_rs_jja_cldclass.h5 data/cloud_incidence_rs_son_cldclass.h5

python scripts/plot_cloud_incidence_summary_by_phase.py -t &#39;Clouds incidence by phase (Ross Ice Shelf, 2007-2010, 2B-CLDCLASS-LIDAR)&#39; -l DJF,MAM,JJA,SON -o plots/cloud_incidence_summary_by_phase_ris_seasons.png data/cloud_incidence_ris_djf_cldclass.h5 data/cloud_incidence_ris_mam_cldclass.h5 data/cloud_incidence_ris_jja_cldclass.h5 data/cloud_incidence_ris_son_cldclass.h5

python scripts/plot_cloud_incidence_summary_by_phase.py -t &#39;Clouds incidence by phase (Ross Sea, 2007-2010, 2B-CLDCLASS-LIDAR)&#39; -l WNC,SNC,RAS,WSC,WS -o plots/cloud_incidence_summary_by_phase_rs_regimes.png data/cloud_incidence_rs_wnc_cldclass.h5 data/cloud_incidence_rs_snc_cldclass.h5 data/cloud_incidence_rs_ras_cldclass.h5 data/cloud_incidence_rs_wsc_cldclass.h5 data/cloud_incidence_rs_ws_cldclass.h5

python scripts/plot_cloud_incidence_summary_by_phase.py -t &#39;Clouds incidence by phase (Ross Ice Shelf, 2007-2010, 2B-CLDCLASS-LIDAR)&#39; -l WNC,SNC,RAS,WSC,WS -o plots/cloud_incidence_summary_by_phase_ris_regimes.png data/cloud_incidence_ris_wnc_cldclass.h5 data/cloud_incidence_ris_snc_cldclass.h5 data/cloud_incidence_ris_ras_cldclass.h5 data/cloud_incidence_ris_wsc_cldclass.h5 data/cloud_incidence_ris_ws_cldclass.h5</code></pre>
<h3 id="plot_cloud_incidence_summary_by_type.py">plot_cloud_incidence_summary_by_type.py</h3>
<p>Plot cloud incidence summary by type.</p>
<pre><code>python scripts/plot_cloud_incidence_summary_by_type.py -t &#39;Clouds incidence by type (Ross Sea, 2007-2010, 2B-CLDCLASS-LIDAR)&#39; -l DJF,MAM,JJA,SON -o plots/cloud_incidence_summary_by_type_rs_seasons.png data/cloud_incidence_rs_djf_cldclass.h5 data/cloud_incidence_rs_mam_cldclass.h5 data/cloud_incidence_rs_jja_cldclass.h5 data/cloud_incidence_rs_son_cldclass.h5

python scripts/plot_cloud_incidence_summary_by_type.py -t &#39;Clouds incidence by type (Ross Ice Shelf, 2007-2010, 2B-CLDCLASS-LIDAR)&#39; -l DJF,MAM,JJA,SON -o plots/cloud_incidence_summary_by_type_ris_seasons.png data/cloud_incidence_ris_djf_cldclass.h5 data/cloud_incidence_ris_mam_cldclass.h5 data/cloud_incidence_ris_jja_cldclass.h5 data/cloud_incidence_ris_son_cldclass.h5

python scripts/plot_cloud_incidence_summary_by_type.py -t &#39;Clouds incidence by type (Ross Sea, 2007-2010, 2B-CLDCLASS-LIDAR)&#39; -l WNC,SNC,RAS,WSC,WS -o plots/cloud_incidence_summary_by_type_rs_regimes.png data/cloud_incidence_rs_wnc_cldclass.h5 data/cloud_incidence_rs_snc_cldclass.h5 data/cloud_incidence_rs_ras_cldclass.h5 data/cloud_incidence_rs_wsc_cldclass.h5 data/cloud_incidence_rs_ws_cldclass.h5

python scripts/plot_cloud_incidence_summary_by_type.py -t &#39;Clouds incidence by type (Ross Ice Shelf, 2007-2010, 2B-CLDCLASS-LIDAR)&#39; -l WNC,SNC,RAS,WSC,WS -o plots/cloud_incidence_summary_by_type_ris_regimes.png data/cloud_incidence_ris_wnc_cldclass.h5 data/cloud_incidence_ris_snc_cldclass.h5 data/cloud_incidence_ris_ras_cldclass.h5 data/cloud_incidence_ris_wsc_cldclass.h5 data/cloud_incidence_ris_ws_cldclass.h5</code></pre>
<h3 id="plot_cloud_incidence_information_gain.py">plot_cloud_incidence_information_gain.py</h3>
<p>Plot cloud incidence information gain.</p>
<pre><code>python scripts/plot_cloud_incidence_information_gain.py -t &quot;Information gain (Ross Sea, 2007-2010, 2B-CLDCLASS)&quot; -x phase -o plots/cloud_incidence_information_gain_rs_phase.png -c data/classes_rs.json
python scripts/plot_cloud_incidence_information_gain.py -t &quot;Information gain (Ross Sea, 2007-2010, 2B-CLDCLASS)&quot;  -x type -o plots/cloud_incidence_information_gain_rs_type.png -c data/classes_rs.json

python scripts/plot_cloud_incidence_information_gain.py -t &quot;Information gain (Ross Ice Shelf, 2007-2010, 2B-CLDCLASS)&quot;  -x phase -o plots/cloud_incidence_information_gain_ris_phase.png -c config/classes_ris.json
python scripts/plot_cloud_incidence_information_gain.py -t &quot;Information gain (Ross Ice Shelf, 2007-2010, 2B-CLDCLASS)&quot;  -x type -o plots/cloud_incidence_information_gain_ris_type.png -c config/classes_ris.json</code></pre>
<h3 id="plot_cloud_incidence_by_phase_multiple.py">plot_cloud_incidence_by_phase_multiple.py</h3>
<p>Plot cloud incidence by phase (multiple panels).</p>
<pre><code>python scripts/plot_cloud_incidence_by_phase_multiple.py -o plots/cloud_incidence_by_phase_regime.png -c config/cloud_incidence_by_phase_regime.json

python scripts/plot_cloud_incidence_by_phase_multiple.py -o plots/cloud_incidence_by_phase_season.png -c config/cloud_incidence_by_phase_season.json</code></pre>
<h3 id="cloud_incidence_summary.py">cloud_incidence_summary.py</h3>
<p>Print fraction of cloudy profiles.</p>
<pre><code>python scripts/cloud_incidence_summary.py -o data/cloud_incidence_summary_cldclass.h5 -c config/cloud_incidence_summary_cldclass.json

sh -c &#39;
    for regime in wnc snc ras wsc ws; do
        echo &quot;RS,${regime^^},$(python scripts/cloud_incidence_cloudy.py data/cloud_incidence_rs_${regime}_cldclass.h5)&quot;
    done

    for regime in wnc snc ras wsc ws; do
        echo &quot;RIS,${regime^^},$(python scripts/cloud_incidence_cloudy.py data/cloud_incidence_ris_${regime}_cldclass.h5)&quot;
    done

    for season in djf mam jja son; do
        echo &quot;RS,${season^^},$(python scripts/cloud_incidence_cloudy.py data/cloud_incidence_rs_${season}_cldclass.h5)&quot;
    done

    for season in djf mam jja son; do
        echo &quot;RIS,${season^^},$(python scripts/cloud_incidence_cloudy.py data/cloud_incidence_ris_${season}_cldclass.h5)&quot;
    done
&#39; &gt; plots/cloud_incidence_summary_cldclass.csv</code></pre>
<h3 id="cloud_layers_hist.py">cloud_layers_hist.py</h3>
<p>Cloud layers histogram.</p>
<pre><code>spark-submit scripts/cloud_layers_hist.py -o data/cloud_layers_hist_rs_cldclass.h5 data/ross_sea_cldclass.h5 2&gt;/dev/null
spark-submit scripts/cloud_layers_hist.py -o data/cloud_layers_hist_ris_cldclass.h5 data/ross_ice_shelf_cldclass.h5 2&gt;/dev/null

for regime in wnc snc ras wsc ws; do
    spark-submit scripts/cloud_layers_hist.py -o data/cloud_layers_hist_rs_${regime}_cldclass.h5 -r &quot;$regime&quot; data/ross_sea_cldclass.h5 2&gt;/dev/null
done

for regime in wnc snc ras wsc ws; do
    spark-submit scripts/cloud_layers_hist.py -o data/cloud_layers_hist_ris_${regime}_cldclass.h5 -r &quot;$regime&quot; data/ross_ice_shelf_cldclass.h5 2&gt;/dev/null
done

for season in djf mam jja son; do
    spark-submit scripts/cloud_layers_hist.py -o data/cloud_layers_hist_rs_${season}_cldclass.h5 -s &quot;$season&quot; data/ross_sea_cldclass.h5 2&gt;/dev/null
done

for season in djf mam jja son; do
    spark-submit scripts/cloud_layers_hist.py -o data/cloud_layers_hist_ris_${season}_cldclass.h5 -s &quot;$season&quot; data/ross_ice_shelf_cldclass.h5 2&gt;/dev/null
done</code></pre>
<h3 id="plot_cloud_layers_hist.py">plot_cloud_layers_hist.py</h3>
<p>Plot cloud layers histogram.</p>
<pre><code>python scripts/plot_cloud_layers_hist.py -o plots/cloud_layers_hist_cldclass.png -c config/cloud_layers_hist_cldclass.json

python scripts/plot_cloud_layers_hist.py -o plots/cloud_layers_hist_rs_cldclass.png -c config/cloud_layers_hist_rs_cldclass.json

python scripts/plot_cloud_layers_hist.py -o plots/cloud_layers_hist_ris_cldclass.png -c config/cloud_layers_hist_ris_cldclass.json</code></pre>
<h3 id="count.py">count.py</h3>
<p>Count the number of profiles.</p>
<pre><code>bash -c &#39;
    echo &quot;RS,all,$(spark-submit scripts/count.py data/ross_sea_cldclass.h5 2&gt;/dev/null)&quot;
    echo &quot;RIS,all,$(spark-submit scripts/count.py data/ross_ice_shelf_cldclass.h5 2&gt;/dev/null)&quot;

    for regime in wnc snc ras wsc ws; do
        echo &quot;RS,${regime^^},$(spark-submit scripts/count.py -r &quot;$regime&quot; data/ross_sea_cldclass.h5 2&gt;/dev/null)&quot;
        echo &quot;RS-E,${regime^^},$(spark-submit scripts/count.py -r &quot;$regime&quot; -a ross_sea_east data/ross_sea_cldclass.h5 2&gt;/dev/null)&quot;
        echo &quot;RS-W,${regime^^},$(spark-submit scripts/count.py -r &quot;$regime&quot; -a ross_sea_west data/ross_sea_cldclass.h5 2&gt;/dev/null)&quot;
        echo &quot;RIS,${regime^^},$(spark-submit scripts/count.py -r &quot;$regime&quot; data/ross_ice_shelf_cldclass.h5 2&gt;/dev/null)&quot;
        echo &quot;RIS-E,${regime^^},$(spark-submit scripts/count.py -r &quot;$regime&quot; -a ross_ice_shelf_east data/ross_ice_shelf_cldclass.h5 2&gt;/dev/null)&quot;
        echo &quot;RIS-W,${regime^^},$(spark-submit scripts/count.py -r &quot;$regime&quot; -a ross_ice_shelf_west data/ross_ice_shelf_cldclass.h5 2&gt;/dev/null)&quot;
    done

    for season in djf mam jja son; do
        echo &quot;RS,${season^^},$(spark-submit scripts/count.py -s &quot;$season&quot; data/ross_sea_cldclass.h5 2&gt;/dev/null)&quot;
        echo &quot;RS-E,${season^^},$(spark-submit scripts/count.py -s &quot;$season&quot; -a ross_sea_east data/ross_sea_cldclass.h5 2&gt;/dev/null)&quot;
        echo &quot;RS-W,${season^^},$(spark-submit scripts/count.py -s &quot;$season&quot; -a ross_sea_west data/ross_sea_cldclass.h5 2&gt;/dev/null)&quot;
        echo &quot;RIS,${season^^},$(spark-submit scripts/count.py -s &quot;$season&quot; data/ross_ice_shelf_cldclass.h5 2&gt;/dev/null)&quot;
        echo &quot;RIS-E,${season^^},$(spark-submit scripts/count.py -s &quot;$season&quot; -a ross_ice_shelf_east data/ross_ice_shelf_cldclass.h5 2&gt;/dev/null)&quot;
        echo &quot;RIS-W,${season^^},$(spark-submit scripts/count.py -s &quot;$season&quot; -a ross_ice_shelf_west data/ross_ice_shelf_cldclass.h5 2&gt;/dev/null)&quot;
    done
&#39; &gt; plots/counts.csv</code></pre>
<h3 id="cloud_types_hist.py">cloud_types_hist.py</h3>
<p>Cloud types histogram.</p>
<pre><code>spark-submit scripts/cloud_types_hist.py -o data/cloud_types_hist_rs_cldclass.h5 data/ross_sea_cldclass.h5 2&gt;/dev/null

for regime in wnc snc ras wsc ws; do
    spark-submit scripts/cloud_types_hist.py -o &quot;data/cloud_types_hist_rs_${regime}_cldclass.h5&quot; -r &quot;$regime&quot; data/ross_sea_cldclass.h5 2&gt;/dev/null
done

for season in djf mam jja son; do
    spark-submit scripts/cloud_types_hist.py -o &quot;data/cloud_types_hist_rs_${season}_cldclass.h5&quot; -s &quot;$season&quot; data/ross_sea_cldclass.h5 2&gt;/dev/null
done

spark-submit scripts/cloud_types_hist.py -o data/cloud_types_hist_ris_cldclass.h5 data/ross_ice_shelf_cldclass.h5 2&gt;/dev/null

for regime in wnc snc ras wsc ws; do
    spark-submit scripts/cloud_types_hist.py -o &quot;data/cloud_types_hist_ris_${regime}_cldclass.h5&quot; -r &quot;$regime&quot; data/ross_ice_shelf_cldclass.h5 2&gt;/dev/null
done

for season in djf mam jja son; do
    spark-submit scripts/cloud_types_hist.py -o &quot;data/cloud_types_hist_ris_${season}_cldclass.h5&quot; -s &quot;$season&quot; data/ross_ice_shelf_cldclass.h5 2&gt;/dev/null
done</code></pre>
<h3 id="plot_cloud_types_hist.py">plot_cloud_types_hist.py</h3>
<p>Plot cloud types histogram.</p>
<pre><code>python scripts/plot_cloud_types_hist.py -o plots/cloud_types_hist_rs_cldclass.png -c config/cloud_types_hist_rs_cldclass.json

python scripts/plot_cloud_types_hist.py -o plots/cloud_types_hist_ris_cldclass.png -c config/cloud_types_hist_ris_cldclass.json</code></pre>
<h3 id="cloud_top_thickness_hist.py">cloud_top_thickness_hist.py</h3>
<p>Cloud top-thickness histogram.</p>
<pre><code>spark-submit scripts/cloud_top_thickness_hist.py -o data/cloud_top_thickness_hist_rs_cldclass.h5 data/ross_sea_cldclass.h5 2&gt;/dev/null

spark-submit scripts/cloud_top_thickness_hist.py -o data/cloud_top_thickness_hist_ris_cldclass.h5 data/ross_ice_shelf_cldclass.h5 2&gt;/dev/null

for regime in wnc snc ras wsc ws; do
    spark-submit scripts/cloud_top_thickness_hist.py -o &quot;data/cloud_top_thickness_hist_rs_${regime}_cldclass.h5&quot; -r &quot;$regime&quot; data/ross_sea_cldclass.h5 2&gt;/dev/null
done

for season in djf mam jja son; do
    spark-submit scripts/cloud_top_thickness_hist.py -o &quot;data/cloud_top_thickness_hist_rs_${season}_cldclass.h5&quot; -s &quot;$season&quot; data/ross_sea_cldclass.h5 2&gt;/dev/null
done

for regime in wnc snc ras wsc ws; do
    spark-submit scripts/cloud_top_thickness_hist.py -o &quot;data/cloud_top_thickness_hist_ris_${regime}_cldclass.h5&quot; -r &quot;$regime&quot; data/ross_ice_shelf_cldclass.h5 2&gt;/dev/null
done

for season in djf mam jja son; do
    spark-submit scripts/cloud_top_thickness_hist.py -o &quot;data/cloud_top_thickness_hist_ris_${season}_cldclass.h5&quot; -s &quot;$season&quot; data/ross_ice_shelf_cldclass.h5 2&gt;/dev/null
done</code></pre>
<h3 id="plot_cloud_top_thickness_hist.py">plot_cloud_top_thickness_hist.py</h3>
<p>Plot cloud top-thickness histogram.</p>
<pre><code>python scripts/plot_cloud_top_thickness_hist.py -t &quot;Cloud top-thickness histogram (Ross Sea, 2007-2010, 2B-CLDCLASS-LIDAR)&quot; -o plots/cloud_top_thickness_hist_rs_cldclass.pdf data/cloud_top_thickness_hist_rs_cldclass.h5

python scripts/plot_cloud_top_thickness_hist.py -t &quot;Cloud top-thickness histogram (Ross Ice Shelf, 2007-2010, 2B-CLDCLASS-LIDAR)&quot; -o plots/cloud_top_thickness_hist_ris_cldclass.pdf data/cloud_top_thickness_hist_ris_cldclass.h5

for regime in wnc snc ras wsc ws; do
    python scripts/plot_cloud_top_thickness_hist.py -t &quot;Cloud top-thickness histogram (Ross Sea, ${regime^^}, 2007-2010, 2B-CLDCLASS-LIDAR)&quot; -o &quot;plots/cloud_top_thickness_hist_rs_${regime}_cldclass.pdf&quot; &quot;data/cloud_top_thickness_hist_rs_${regime}_cldclass.h5&quot;
done

for season in djf mam jja son; do
    python scripts/plot_cloud_top_thickness_hist.py -t &quot;Cloud top-thickness histogram (Ross Sea, ${season^^}, 2007-2010, 2B-CLDCLASS-LIDAR)&quot; -o &quot;plots/cloud_top_thickness_hist_rs_${season}_cldclass.pdf&quot; &quot;data/cloud_top_thickness_hist_rs_${season}_cldclass.h5&quot;
done

for regime in wnc snc ras wsc ws; do
    python scripts/plot_cloud_top_thickness_hist.py -t &quot;Cloud top-thickness histogram (Ross Ice Shelf, ${regime^^}, 2007-2010, 2B-CLDCLASS-LIDAR)&quot; -o &quot;plots/cloud_top_thickness_hist_ris_${regime}_cldclass.pdf&quot; &quot;data/cloud_top_thickness_hist_ris_${regime}_cldclass.h5&quot;
done

for season in djf mam jja son; do
    python scripts/plot_cloud_top_thickness_hist.py -t &quot;Cloud top-thickness histogram (Ross Ice Shelf, ${season^^}, 2007-2010, 2B-CLDCLASS-LIDAR)&quot; -o &quot;plots/cloud_top_thickness_hist_ris_${season}_cldclass.pdf&quot; &quot;data/cloud_top_thickness_hist_ris_${season}_cldclass.h5&quot;
done

# Relative

for regime in wnc snc ras wsc ws; do
    python scripts/plot_cloud_top_thickness_hist.py -t &quot;Cloud top-thickness histogram (Ross Sea, ${regime^^}, 2007-2010, 2B-CLDCLASS-LIDAR)&quot; -o &quot;plots/cloud_top_thickness_hist_rs_${regime}_rel_cldclass.pdf&quot; &quot;data/cloud_top_thickness_hist_rs_${regime}_cldclass.h5&quot; data/cloud_top_thickness_hist_rs_cldclass.h5
done

for season in djf mam jja son; do
    python scripts/plot_cloud_top_thickness_hist.py -t &quot;Cloud top-thickness histogram (Ross Sea, ${season^^}, 2007-2010, 2B-CLDCLASS-LIDAR)&quot; -o &quot;plots/cloud_top_thickness_hist_rs_${season}_rel_cldclass.pdf&quot; &quot;data/cloud_top_thickness_hist_rs_${season}_cldclass.h5&quot; data/cloud_top_thickness_hist_rs_cldclass.h5
done

for regime in wnc snc ras wsc ws; do
    python scripts/plot_cloud_top_thickness_hist.py -t &quot;Cloud top-thickness histogram (Ross Ice Shelf, ${regime^^}, 2007-2010, 2B-CLDCLASS-LIDAR)&quot; -o &quot;plots/cloud_top_thickness_hist_ris_${regime}_rel_cldclass.pdf&quot; &quot;data/cloud_top_thickness_hist_ris_${regime}_cldclass.h5&quot; data/cloud_top_thickness_hist_ris_cldclass.h5
done

for season in djf mam jja son; do
    python scripts/plot_cloud_top_thickness_hist.py -t &quot;Cloud top-thickness histogram (Ross Ice Shelf, ${season^^}, 2007-2010, 2B-CLDCLASS-LIDAR)&quot; -o &quot;plots/cloud_top_thickness_hist_ris_${season}_rel_cldclass.pdf&quot; &quot;data/cloud_top_thickness_hist_ris_${season}_cldclass.h5&quot; data/cloud_top_thickness_hist_ris_cldclass.h5
done</code></pre>
<h3 id="plot_cloud_top_thickness_hist_multi.py">plot_cloud_top_thickness_hist_multi.py</h3>
<p>Plot cloud top-thickness histogram (multiple panels).</p>
<pre><code>python scripts/plot_cloud_top_thickness_hist.py -o plots/cloud_top_thickness_hist.png -c config/cloud_top_thickness_hist_cldclass.json</code></pre>
<h3 id="cloud_types_hist_int.py">cloud_types_hist_int.py</h3>
<p>Cloud types histogram (integrated)</p>
<pre><code>spark-submit scripts/cloud_types_hist_int.py -o data/cloud_types_hist_int_rs_cldclass.h5 data/ross_sea_cldclass.h5 2&gt;/dev/null

for regime in wnc snc ras wsc ws; do
    spark-submit scripts/cloud_types_hist_int.py -o &quot;data/cloud_types_hist_int_rs_${regime}_cldclass.h5&quot; -r &quot;$regime&quot; data/ross_sea_cldclass.h5 2&gt;/dev/null
done

for season in djf mam jja son; do
    spark-submit scripts/cloud_types_hist_int.py -o &quot;data/cloud_types_hist_int_rs_${season}_cldclass.h5&quot; -s &quot;$season&quot; data/ross_sea_cldclass.h5 2&gt;/dev/null
done

spark-submit scripts/cloud_types_hist_int.py -o data/cloud_types_hist_int_ris_cldclass.h5 data/ross_ice_shelf_cldclass.h5 2&gt;/dev/null

for regime in wnc snc ras wsc ws; do
    spark-submit scripts/cloud_types_hist_int.py -o &quot;data/cloud_types_hist_int_ris_${regime}_cldclass.h5&quot; -r &quot;$regime&quot; data/ross_ice_shelf_cldclass.h5 2&gt;/dev/null
done

for season in djf mam jja son; do
    spark-submit scripts/cloud_types_hist_int.py -o &quot;data/cloud_types_hist_int_ris_${season}_cldclass.h5&quot; -s &quot;$season&quot; data/ross_ice_shelf_cldclass.h5 2&gt;/dev/null
done</code></pre>
<h3 id="plot_cloud_types_hist_int.py">plot_cloud_types_hist_int.py</h3>
<p>Plot cloud types histogram (integrated).</p>
<pre><code>python scripts/plot_cloud_types_hist_int.py -o plots/cloud_types_hist_int.png -c config/cloud_types_hist_int.json</code></pre>
<h3 id="plot_cloud_top_thickness_composite.py">plot_cloud_top_thickness_composite.py</h3>
<p>Plot cloud top vs. cloud thickness composite plot.</p>
<pre><code>python scripts/plot_cloud_top_thickness_composite.py -o plots/cloud_top_thickness_composite_regime.pdf -c config/cloud_top_thickness_composite_regime.json

python scripts/plot_cloud_top_thickness_composite.py -o plots/cloud_top_thickness_composite_season.pdf -c config/cloud_top_thickness_composite_season.json</code></pre>
<h3 id="regime_season_hist.py">regime_season_hist.py</h3>
<p>Regime-season histogram.</p>
<pre><code>spark-submit scripts/regime_season_hist.py -o data/regime_season_hist.h5 data/ross_sea_cldclass.h5 data/ross_ice_shelf_cldclass.h5 2&gt;/dev/null</code></pre>
<h3 id="print_regime_season_table.py">print_regime_season_table.py</h3>
<p>Print regime-season table.</p>
<pre><code>python scripts/print_regime_season_table.py data/regime_season_hist.h5</code></pre>
<h3 id="map.r">map.R</h3>
<pre><code>scripts/map.py -o plots/map.pdf</code></pre>
</body>
</html>
